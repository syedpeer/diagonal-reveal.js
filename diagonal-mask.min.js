!function(exports){let diagonalId=0;const defaultConfig={selector:".diagonal",direction:"down-left"};let decimals;function _decimalToPCT(decimal){return`${Math.round(100*decimal)}%`}function _calTransform(status,direction){let translateX=0,translateY=0;const{cover:cover,downLeft:downLeft,topRight:topRight}=decimals;switch(direction){case"down-left":"cover"===status?translateY=_decimalToPCT(-cover):"out"===status&&(translateY=_decimalToPCT(downLeft));break;case"down-right":translateY=_decimalToPCT(-cover),"out"===status&&(translateX="100%");break;case"top-left":translateY=_decimalToPCT(-cover),"out"===status&&(translateX="-100%");break;case"top-right":"cover"===status?translateY=_decimalToPCT(-cover):"out"===status&&(translateY=_decimalToPCT(-topRight))}return`rotate(45deg) ${`translate(${translateX}, ${translateY})`}`}window.diagonalIn=function(config=defaultConfig){const _config=Object.assign({},defaultConfig,config);document.querySelectorAll(_config.selector).forEach(function(item,index){const mask=function(item){const el=document.createElement("div");el.className="diagonal-mask",item.appendChild(el);const cWidth=item.offsetWidth,cHeight=item.offsetHeight,mSize=(cWidth+cHeight)*Math.sqrt(2)/2;el.style.width=`${mSize}px`,el.style.height=`${mSize}px`;const coverPath=cWidth*Math.sqrt(2)/2;return decimals={cover:coverPath/mSize,downLeft:(mSize-coverPath)/mSize,topRight:(mSize+coverPath)/mSize},el}(item);mask.style.transform=_calTransform("cover",_config.direction),function(el,index,config){const aniName=`diagonal-${diagonalId++}-${index}`;el.style.animation=`${aniName} 0.5s ease-in forwards`;let style=document.createElement("style");style.type="text/css",style.innerHTML=`\n                @keyframes ${aniName} {\n                    from { \n                        transform: ${_calTransform("cover",config.direction)}\n                    }\n                    to  { \n                        transform: ${_calTransform("out",config.direction)}\n                    }\n                }'\n            `,document.head.appendChild(style)}(mask,index,_config),mask.addEventListener("animationend",function(){item.removeChild(mask)})})}}();